/*!*
 * Basic rules for jquery.niceform
 * Copyright (c) 2014 Duc Doan Hoang Minh
 *
 * @license https://github.com/bobkhin/jquery.niceform/blob/master/LICENSE
 *
 * Date: Mon, May 19th, 2014 (GTM+7)
 */
!function(a){var b=a.niceForm;b.addRule("required",{validate:function(a,b,c,d){return d?b.length>0:!!b},message:function(a,c,d,e){return e?"radio"===e?b.formatString("Please select {0}",c):b.formatString("Please select at least one of {0}",c):c+" must be not blank"}}),b.addRule("password",{validate:function(a,c,d){var e=b.generatePasswordRegex(d.password);return!!c&&e.test(c)},message:function(a,c,d){return b.formatString("{0} {1}",c,d.password.errorMessage)}}),b.addRule("repassword",{validate:function(a,b){var c=a.closest("form").find(":password").not(a),d=c.val(),e=c.is("[data-niceForm$=requiredIf]");return e?d?!!b&&b===d:!0:"false"===c.attr("data-success")?!1:d?!!b&&b===d:void 0},message:function(){return"Please re-enter your password for confirmation"}}),b.addRule("limited",{validate:function(a,b,c,d){var e,f;if(d){var g=a.filter("[data-niceForm]");e=+g.attr("data-min"),f=+g.attr("data-max")}else e=+a.attr("data-min"),f=+a.attr("data-max");return d?b.length>e&&b.length<f:!!b&&b.length<f&&b.length>e},message:function(a,c,d,e){var f,g;if(e){var h=a.filter("[data-niceForm]");f=h.attr("data-min"),g=h.attr("data-max")}else f=a.attr("data-min"),g=a.attr("data-max");return e?b.formatString("You can select {0}-{1} {2}",f,g,c):b.formatString("{0} must be between {1} and {2} characters long",c,f,g)}}),b.addRule("minimum",{validate:function(a,b,c,d){var e;if(d){var f=a.filter("[data-niceForm]");e=+f.attr("data-min")}else e=+a.attr("data-min");return d?b.length>e:!!b&&b.length>e},message:function(a,c,d,e){var f;if(e){var g=a.filter("[data-niceForm]");f=g.attr("data-min")}else f=a.attr("data-min");return e?b.formatString("You must be select at least {0} {1}",f,c):b.formatString("Must be at least {0} characters long",f)}}),b.addRule("maximum",{validate:function(a,b,c,d){var e;if(d){var f=a.filter("[data-niceForm]");e=+f.attr("data-max")}else e=+a.attr("data-max");return d?b.length<e:!!b&&b.length<e},message:function(a,c,d,e){var f;if(e){var g=a.filter("[data-niceForm]");f=g.attr("data-max")}else f=a.attr("data-max");return e?b.formatString("Please only select {0} {1} at max",f,c):b.formatString("Maximum length of {0} is {1} characters long",c,f)}}),b.addRule("exact",{validate:function(a,b){var c=+a.attr("data-length");return b.length===c},message:function(a,c){return b.formatString("{0} length must be {1} characters long",c,a.attr("data-length"))}}),b.addRule("integer",{validate:function(a,b){var c=a.attr("data-min"),d=a.attr("data-max");return!!b&&!isNaN(b)&&(c?+b>=+c:!0)&&(d?+d>=+b:!0)},message:function(a,c){var d=a.attr("data-min"),e=a.attr("data-max");return b.formatString("{0} must be digits{1}{2}",c,d?", minimum is "+d:"",e?", maximum is "+e:"")}}),b.addRule("email",{validate:function(a,b,c){return c.regex.email.test(b)},message:function(a,c){return b.formatString("{0} is invalid",c)}}),b.addRule("regex",{validate:function(a,b){var c=new RegExp(a.attr("data-regex"));return c.test(b)},message:function(a){return a.attr("data-message")}}),b.addRule("url",{validate:function(a,b,c){return c.regex.url.test(b)},message:function(a,c){return b.formatString("{0} is invalid",c)}}),b.addRule("ip",{validate:function(a,b,c){return c.regex.ip.test(b)},message:function(a,c){return b.formatString("{0} is invalid",c)}}),b.addRule("hex",{validate:function(a,b,c){return c.regex.hex.test(b)},message:function(a,c){return b.formatString("{0} is invalid",c)}}),b.addRule("date",{validate:function(b,c,d){return void 0===moment?(a.error("Require MomentJs for validating Date"),!1):moment(c,d.format.date,!0).isValid()},message:function(a,c){return b.formatString("{0} is invalid",c)}}),b.addRule("time",{validate:function(b,c,d){return void 0===moment?(a.error("Require MomentJs for validating Time"),!1):moment(c,d.format.time,!0).isValid()},message:function(a,c){return b.formatString("{0} is invalid",c)}}),b.addRule("datetime",{validate:function(b,c,d){return void 0===moment?(a.error("Require MomentJs for validating DateTime"),!1):moment(c,d.format.datetime,!0).isValid()},message:function(a,c){return b.formatString("{0} is invalid",c)}})}(jQuery);