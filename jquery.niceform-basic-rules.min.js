/*!*
 * Basic rules for jquery.niceform
 * Copyright (c) 2014 Duc Doan Hoang Minh
 *
 * @license https://github.com/bobkhin/jquery.niceform/blob/master/LICENSE
 *
 * Date: Mon, May 19th, 2014 (GTM+7)
 */
!function(a){var b=a.niceform;b.addRule("required",{validate:function(a,b,c,d){return d?b.length>0:!!b},message:function(a,b,c,d){return d?"radio"===d?String.format("Please select {0}",b):String.format("Please select at least one of {0}",b):b+" must be not blank"}}),b.addRule("password",{validate:function(a,c,d){var e=b.generatePasswordRegex(d.password);return!!c&&e.test(c)},message:function(a,b,c){return String.format("{0} {1}",b,c.password.errorMessage)}}),b.addRule("equalTo",{validate:function(b,c){var d=b.attr("data-target"),e=a(d),f=e.val(),g=e.is("[data-niceform$=requiredIf]");return g?f?!!c&&c===f:!0:"false"===e.attr("data-success")?!1:f?!!c&&c===f:void 0},message:function(a){return a.attr("data-message")}}),b.addRule("limited",{validate:function(a,b,c,d){var e,f;if(d){var g=a.filter("[data-niceform]");e=+g.attr("data-min"),f=+g.attr("data-max")}else e=+a.attr("data-min"),f=+a.attr("data-max");return d?b.length>e&&b.length<f:!!b&&b.length<f&&b.length>e},message:function(a,b,c,d){var e,f;if(d){var g=a.filter("[data-niceform]");e=g.attr("data-min"),f=g.attr("data-max")}else e=a.attr("data-min"),f=a.attr("data-max");return d?String.format("You can select {0}-{1} {2}",e,f,b):String.format("{0} must be between {1} and {2} characters long",b,e,f)}}),b.addRule("minimum",{validate:function(a,b,c,d){var e;if(d){var f=a.filter("[data-niceform]");e=+f.attr("data-min")}else e=+a.attr("data-min");return d?b.length>e:!!b&&b.length>e},message:function(a,b,c,d){var e;if(d){var f=a.filter("[data-niceform]");e=f.attr("data-min")}else e=a.attr("data-min");return d?String.format("You must be select at least {0} {1}",e,b):String.format("Must be at least {0} characters long",e)}}),b.addRule("maximum",{validate:function(a,b,c,d){var e;if(d){var f=a.filter("[data-niceform]");e=+f.attr("data-max")}else e=+a.attr("data-max");return d?b.length<e:!!b&&b.length<e},message:function(a,b,c,d){var e;if(d){var f=a.filter("[data-niceform]");e=f.attr("data-max")}else e=a.attr("data-max");return d?String.format("Please only select {0} {1} at max",e,b):String.format("Maximum length of {0} is {1} characters long",b,e)}}),b.addRule("exact",{validate:function(a,b){var c=+a.attr("data-length");return b.length===c},message:function(a,b){return String.format("{0} length must be {1} characters long",b,a.attr("data-length"))}}),b.addRule("integer",{validate:function(a,b){var c=a.attr("data-min"),d=a.attr("data-max");return!!b&&!isNaN(b)&&(c?+b>=+c:!0)&&(d?+d>=+b:!0)},message:function(a,b){var c=a.attr("data-min"),d=a.attr("data-max");return String.format("{0} must be digits{1}{2}",b,c?", minimum is "+c:"",d?", maximum is "+d:"")}}),b.addRule("email",{validate:function(a,b,c){return c.regex.email.test(b)},message:function(a,b){return String.format("{0} is invalid",b)}}),b.addRule("regex",{validate:function(a,b){var c=new RegExp(a.attr("data-regex"));return c.test(b)},message:function(a){return a.attr("data-message")}}),b.addRule("url",{validate:function(a,b,c){return c.regex.url.test(b)},message:function(a,b){return String.format("{0} is invalid",b)}}),b.addRule("ip",{validate:function(a,b,c){return c.regex.ip.test(b)},message:function(a,b){return String.format("{0} is invalid",b)}}),b.addRule("hex",{validate:function(a,b,c){return c.regex.hex.test(b)},message:function(a,b){return String.format("{0} is invalid",b)}}),b.addRule("date",{validate:function(b,c,d){return void 0===moment?(a.error("Require MomentJs for validating Date"),!1):moment(c,d.format.date,!0).isValid()},message:function(a,b){return String.format("{0} is invalid",b)}}),b.addRule("time",{validate:function(b,c,d){return void 0===moment?(a.error("Require MomentJs for validating Time"),!1):moment(c,d.format.time,!0).isValid()},message:function(a,b){return String.format("{0} is invalid",b)}}),b.addRule("datetime",{validate:function(b,c,d){return void 0===moment?(a.error("Require MomentJs for validating DateTime"),!1):moment(c,d.format.datetime,!0).isValid()},message:function(a,b){return String.format("{0} is invalid",b)}})}(jQuery);